<!DOCTYPE html>
<html>
<head>
    <title>$question_subject - 화성 탐사대</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: radial-gradient(circle at top, #1c2431, #0b0f17);
            min-height: 100vh;
            color: #dfe3ea;
            font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
        }
        .content-wrapper {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px 80px;
        }
        .hero {
            background: linear-gradient(135deg, rgba(160,160,160,0.2), rgba(99,102,241,0.35));
            padding: 32px;
            border-radius: 24px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.2);
            backdrop-filter: blur(6px);
        }
        .hero.detail-hero {
            margin-bottom: 24px;
        }
        .card-glass {
            background: rgba(160, 160, 160, 0.15);
            border: 1px solid rgba(160,160,160,0.2);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 20px 35px rgba(0,0,0,0.2);
        }
        .question-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            margin-top: 16px;
        }
        .meta-chip {
            background: rgba(160,160,160,0.2);
            border-radius: 999px;
            padding: 6px 14px;
            font-size: 0.9rem;
        }
        .answer-card {
            background: rgba(160,160,160,0.12);
            border: 1px solid rgba(160,160,160,0.18);
            border-radius: 18px;
            padding: 18px;
            margin-bottom: 16px;
        }
        textarea, .form-control {
            background: rgba(12, 18, 31, 0.65);
            border: 1px solid rgba(160,160,160,0.25);
            color: #dfe3ea;
        }
        .form-label {
            color: #cfd5e4;
        }
        .btn-primary {
            background: linear-gradient(135deg, #7dd3fc, #60a5fa);
            border: none;
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 30px;
        }
    </style>
</head>
<body>
<div class="content-wrapper">
    <div class="hero detail-hero">
        <p class="text-uppercase text-muted fw-semibold mb-1">Question #$question_id</p>
        <h2 class="mb-3">$question_subject</h2>
        <p class="lead">$question_content</p>
        <div class="question-meta">
            <span class="meta-chip">등록일시 : $question_create_date</span>
            <span class="meta-chip">답변 $answer_count건</span>
        </div>
    </div>

    <h5 class="mb-3">답변 목록</h5>
    $answers_html

    <div class="my-4 card-glass">
        <label for="content" class="form-label text-light">답변 작성</label>
        <textarea id="content" class="form-control" rows="4" placeholder="새로운 발견이나 팁을 공유해주세요."></textarea>
        <button onclick="submitAnswer($question_id)" class="btn btn-primary mt-3">답변 등록</button>
    </div>
    <a href="/" class="btn btn-outline-light">목록으로</a>
</div>

<script>
async function submitAnswer(qId) {
    const content = document.getElementById('content').value;
    const response = await fetch('/api/answer/create/' + qId, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ content: content })
    });
    if (response.ok) {
        window.location.reload();
    } else {
        alert("오류가 발생했습니다.");
    }
}
</script>
</body>
</html>
